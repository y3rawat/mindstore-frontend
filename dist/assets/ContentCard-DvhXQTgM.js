import{r as i,j as e}from"./index-Vtja1VBs.js";const j="https://mindstore-backend.vercel.app/api";function f(s){if(!s)return!1;try{const n=new URL(s).hostname;return!(n==="localhost"||n==="127.0.0.1"||s.startsWith("data:"))}catch{return!1}}function v(s){return s?f(s)?`${j}/image-proxy?url=${encodeURIComponent(s)}`:s:null}function y(s){return{instagram:"#INSTA",youtube:"#YOUTUBE",twitter:"#TWITTER",linkedin:"#LINKEDIN",tiktok:"#TIKTOK"}[s]||"#MEDIA"}const b=i.memo(function({item:n,isSelected:r,onSelect:l,variant:h="grid"}){const a=n.media||{},c=a.downloadStatus==="pending"||a.downloadStatus==="processing",o=a.downloadStatus==="failed",d=a.downloadStatus==="completed",p=!!a.driveViewLink,[x,m]=i.useState(!1),t=i.useMemo(()=>v(a.thumbnailUrl),[a.thumbnailUrl]),u=t&&!x,N=a.savedAt?new Date(a.savedAt).toLocaleDateString("en-US",{year:"2-digit",month:"2-digit",day:"2-digit"}).replace(/\//g,"-"):null;return h==="queue"?e.jsxs("div",{className:`queue-card ${r?"selected":""}`,onClick:l,children:[e.jsxs("div",{className:"queue-thumbnail",children:[u?e.jsx("img",{src:t,alt:"",loading:"lazy",onError:()=>m(!0)}):e.jsx("div",{className:"thumbnail-placeholder",children:e.jsx("span",{className:"material-icons-round",children:"image"})}),e.jsx("div",{className:"queue-overlay",children:e.jsx("span",{className:"material-icons-round animate-spin",children:"sync"})})]}),e.jsxs("div",{className:"queue-content",children:[e.jsx("h3",{className:"queue-title line-clamp-1",children:a.title||a.author||"Processing..."}),e.jsxs("p",{className:"queue-status font-mono",children:["STATUS: ",c?"Processing_":"Waiting_"]}),e.jsx("div",{className:"queue-progress",children:e.jsx("div",{className:"queue-progress-bar",style:{width:c?"75%":"15%"}})})]}),e.jsx("button",{className:"queue-menu",onClick:g=>g.stopPropagation(),children:e.jsx("span",{className:"material-icons-round",children:"more_vert"})})]}):e.jsxs("div",{className:`content-card ${r?"selected":""} ${o?"failed":""}`,onClick:l,children:[e.jsxs("div",{className:"card-thumbnail",children:[u?e.jsx("img",{src:t,alt:a.title||"",loading:"lazy",decoding:"async",onError:()=>m(!0)}):e.jsx("div",{className:"thumbnail-placeholder",children:e.jsx("span",{className:"material-icons-round",children:a.mediaType==="video"?"play_circle":"image"})}),e.jsx("span",{className:`card-tag platform-${a.platform}`,children:y(a.platform)}),p&&d&&e.jsxs("span",{className:"card-status synced",children:[e.jsx("span",{className:"material-icons-round",children:"cloud_done"}),"SYNCED"]}),a.mediaType==="video"&&d&&e.jsx("div",{className:"card-play-overlay",children:e.jsx("span",{className:"material-icons-round",children:"play_circle"})}),o&&e.jsx("div",{className:"card-failed-overlay",children:e.jsx("span",{className:"material-icons-round",children:"error"})})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"card-title line-clamp-2",children:a.title||a.author||"Untitled"}),e.jsx("p",{className:"card-meta font-mono",children:N||"No date"})]})]})});b.displayName="ContentCard";export{b as C};
